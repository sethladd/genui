# Gemini Code Assistant Context

This document provides context for the Gemini Code Assistant to understand the `genui` project.

## Project Overview

This is a monorepo for a Generative UI SDK (`flutter_genui`). The SDK allows developers to add interactive, dynamic, and graphical UI to their applications, generated by a Large Language Model (LLM). Instead of rendering static text responses from an LLM, this SDK allows the LLM to compose UIs from a developer-provided widget catalog.

The project is structured as a monorepo containing several Dart and Flutter packages, along with example applications.

### Key Packages

| Package                              | Description                                                             |
| ------------------------------------ | ----------------------------------------------------------------------- |
| `packages/flutter_genui`             | The core framework for employing Generative UI.                         |
| `packages/flutter_genui_firebase_ai` | Firebase AI integration for `flutter_genui`.                            |
| `packages/json_schema_builder`       | A Dart JSON Schema package with validation, used by the core framework. |

### Example Applications

The `examples` directory contains sample applications demonstrating the usage of the `flutter_genui` SDK.

| Example           | Description                                                                                                                                                                                                                                                       |
| ----------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `simple_chat`     | A minimal example of a conversational chat application. It demonstrates the fundamental concepts of `flutter_genui`, such as initializing the `UiAgent`, sending user messages, and rendering the AI-generated UI surfaces using the default core widget catalog. |
| `travel_app`      | A more advanced example of a travel planning assistant. It showcases dynamic UI generation, the use of a custom, domain-specific widget catalog, and how user interactions with the UI can be fed back to the AI to refine the conversation.                      |
| `catalog_gallery` | A simple application that displays the widgets available in the catalog. It's a useful tool for developers to visualize the components that the AI can use to build UIs.                                                                                          |

The `simple_chat` and `travel_app` examples are good starting points for understanding the library's capabilities.

## Implementation Details

For a deeper understanding of the project's architecture and data flow, refer to the following documents:

- **`packages/flutter_genui/IMPLEMENTATION.md`**: Provides a comprehensive overview of the core `flutter_genui` package's architecture, purpose, and implementation.
- **`examples/travel_app/IMPLEMENTATION.md`**: Describes the architecture and implementation of the `travel_app` example, showcasing how the `flutter_genui` package is used to build a dynamic, conversational UI.

## Building and Running

The project uses standard `flutter` and `dart` commands. A comprehensive script is provided to automate fixes, formatting, analysis, and testing.

### Key Commands

- **Run all checks and tests:**

  ```bash
  ./tool/run_all_tests_and_fixes.sh
  ```

  This is a script used by CI for ensuring code quality. It runs `dart fix`, `dart format`, `flutter test`, and `flutter analyze` for all packages and examples in the repository.

## Development Conventions

### Code Style and Formatting

- The project follows the `dart_flutter_team_lints` linting rules, which is the combination of this [analysis_options.yaml](https://raw.githubusercontent.com/dart-lang/ecosystem/refs/heads/main/pkgs/dart_flutter_team_lints/lib/analysis_options.yaml) file and the [recommended](https://raw.githubusercontent.com/dart-lang/core/refs/heads/main/pkgs/lints/lib/recommended.yaml) and [core](https://raw.githubusercontent.com/dart-lang/core/refs/heads/main/pkgs/lints/lib/core.yaml) lints.
- Code formatting is enforced using the `dart_format` tool.
- The `tool/run_all_tests_and_fixes.sh` script should be run before committing to ensure all files are correctly formatted and analyzed.

### Testing

- Widget and unit tests are located in the `test` directory of each package/example.
- Tests are run using `flutter test`.
- The CI pipeline, defined in `.github/workflows/flutter_packages.yaml`, runs tests for all packages on every push and pull request to the `main` branch.

### Copyright Headers

- All files must have a copyright header.
- The `tool/fix_copyright.sh` script (which is called by `run_all_tests_and_fixes.sh`) can be used to automatically add or update copyright headers.

### Firebase Integration

- The examples and the `flutter_genui_firebase_ai` package use Firebase.
- A script at `tool/stub_firebase_options.sh` is used in CI to create a stub `firebase_options.dart` file. For local development, developers need to configure their own Firebase project by following the instructions in `packages/flutter_genui/USAGE.md`.

## Folder `spikes`

The folder `spikes` contains experiments and proof of concepts,
that does not have to be of good quality.

Skip this folder when reviewing code.

## Draft pull requests

Do not review pull requests when they are in draft state. Wait them to be ready for review.
